@{
    ViewBag.Title = "Inicio Sesión";
    Layout = "~/Views/Shared/_Layout_login.cshtml";
}

<div id="login1" class="content">
    <section class="">
        @using (Ajax.BeginForm("InicioSesion", "Seguridad", new AjaxOptions { HttpMethod = "POST", OnSuccess = "Seguridad.ValidaInicioSesion" }, new { @class = "form-vertical login-form" }))
        {
            <h3 class="form-title">Inicio de sesión</h3>
            <div class="control-group">
                <div class="control">
                    <div class="input-icon left">
                        <i class="fa fa-user"></i>
                        @Html.TextBox("txtUsuarioIniciar", "SAdminCM", new { placeholder = "Usuario", @class = "m-wrap placeholder-no-fix", data_val = "true", data_val_required = "Dato requerido.", autocomplete = "off" })
                        <span class="field-validation-valid" data-valmsg-for="txtUsuarioIniciar" data-valmsg-replace="true"></span>
                    </div>
                </div>
            </div>
            <div class="control-group">
                <div class="control">
                    <div class="input-icon left">
                        <i class="fa fa-lock"></i>
                        @Html.Password("txtClaveIniciar", null, new { @class = "m-wrap placeholder-no-fix", placeholder = "Clave", data_val = "true", data_val_required = "Dato requerido.", autocomplete = "off" })
                        <span class="field-validation-valid" data-valmsg-for="txtClaveIniciar" data-valmsg-replace="true"></span>
                    </div>
                </div>
            </div>
            <div>
                @Html.DropDownList("ddlEmpresaIngresar", (SelectList)ViewBag.ddlEmpresas, " -- Empresa -- ", new { @class = "form-control", data_val = "true", data_val_required = "Dato requerido." })
                <span class="field-validation-valid" data-valmsg-for="ddlEmpresaIngresar" data-valmsg-replace="true"></span>
            </div>
            <div class="clearfix"></div>
            <br />
            <div>
                <input type="submit" name="btnEnviar" id="btnEnviar" value="Entrar" class="btn btn-success submit" />
            </div>
            <div class="clearfix"></div>
            <div class="separator">
                <p class="change_link">
                    Olvidaste tu clave?
                    <a href="#" class="to_register" onclick="siteLogin.showReg();">Restablecer clave</a>
                </p>
            </div>
        }
    </section>
</div>
<div id="register" class="animate form" style="display:none;">
    <section class="login_content">
        @using (Ajax.BeginForm("RestablecerClave", "Seguridad", new AjaxOptions { HttpMethod = "POST", OnSuccess = "Seguridad.ValidaRestablecerClave" }))
        {
            <h1>Restablecer clave</h1>
            <div>
                @Html.TextBox("txtUsuarioRecuperar", null, new { placeholder = "Usuario", @class = "form-control", data_val = "true", data_val_required = "Dato requerido.", autocomplete = "off" })
                <span class="field-validation-valid" data-valmsg-for="txtUsuarioRecuperar" data-valmsg-replace="true"></span>
            </div>
            <div>
                @Html.TextBox("txtEmailRecuperar", null, new { placeholder = "Correo electrónico", @class = "form-control", data_val = "true", data_val_required = "Dato requerido.", data_rule_email = "true", data_msg_email = "Formato de correo inválido.", autocomplete = "off" })
                <span class="field-validation-valid" data-valmsg-for="txtEmailRecuperar" data-valmsg-replace="true"></span>
            </div>
            <div>
                @Html.DropDownList("ddlEmpresaRecuperar", (SelectList)ViewBag.ddlEmpresas, " -- Empresa -- ", new { @class = "form-control", data_val = "true", data_val_required = "Dato requerido." })
                <span class="field-validation-valid" data-valmsg-for="ddlEmpresaRecuperar" data-valmsg-replace="true"></span>
            </div>
            <div class="clearfix"></div>
            <br />
            <div>
                <input type="submit" name="btnEnviar" id="btnEnviar" value="Enviar" class="btn btn-default submit" />
            </div>
            <div class="clearfix"></div>
            <div class="separator">
                <p class="change_link">
                    Quieres ingresar a la aplicación?
                    <a href="#" class="to_login" onclick="siteLogin.closeReg();"> Iniciar sesión </a>
                </p>
            </div>
        }
        <!-- form -->
    </section>
    <!-- content -->
</div>
<script>
    var siteLogin = {
        showReg: function () {
            $("#login1").fadeOut("slow");
            $("#register").fadeIn("slow");
        },
        closeReg: function () {
            $("#register").fadeOut("slow");
            $("#login1").fadeIn("slow");
        }
    }
</script>